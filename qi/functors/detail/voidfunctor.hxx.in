#from codegenerator import *
/*
** $autogen
**
** Author(s):
**  - Cedric GESTES <gestes@aldebaran-robotics.com>
**
** Copyright (C) 2010 Aldebaran Robotics
*/

#raw

#ifndef _QI_FUNCTORS_DETAIL_VOIDFUNCTOR_HXX_IN_
#define _QI_FUNCTORS_DETAIL_VOIDFUNCTOR_HXX_IN_

# include <qi/functors/functor.hpp>

namespace qi {
namespace detail {

#end raw
#for $i in $count

  template <$generate_typename_list($i)>
  class Functor_$i<${generate_type_list($i, end=True)}void> : public Functor
  {
  public:
    typedef void(*FunctionType) ($generate_param_list($i));

    Functor_${i}(FunctionType pFunction)
      : fFunction(pFunction)
    {}

    void operator()($generate_param_list($i)) {
      (*fFunction)($generate_arg_list($i));
    }

    void call(qi::serialization::Message &params, qi::serialization::Message& result)const {
      QI_FUNCTOR_ASSUME_NBR_PARAMS(params, ${i});
      #for $j in range($i)
      P$j p$j;
      #end for

      #for $j in range($i)
      qi::serialization::serialize<P$j>::read(params, p$j);
      #end for
      (*fFunction)($generate_callparam_list($i));
    };

  private:
    FunctionType  fFunction;
  };

#end for
#raw
}
}
#endif  // _QI_FUNCTORS_DETAIL_VOIDFUNCTOR_HXX_IN_
#end raw
