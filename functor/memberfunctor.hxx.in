/*
** Author(s):
**  - Cedric GESTES <gestes@aldebaran-robotics.com>
**
** Copyright (C) 2010 Aldebaran Robotics
*/

//AUTOGENERATED HEADER DO NOT EDIT

#ifndef  AL_MESSAGING_MEMBER_FUNCTOR_HXX_
# define AL_MESSAGING_MEMBER_FUNCTOR_HXX_

# include <alcommon-ng/functor/functor.hpp>

namespace AL
{

//HEADER

  template <%(TypeNameList)stypename C, typename R>
  class MemFunctor_%(count)d : public Functor
  {
  public:
    typedef R(C::*FunctionType) (%(ParamList)s);

    MemFunctor_%(count)d(C *pObject, FunctionType pFunction)
      : fObject(pObject),
        fFunction(pFunction)
    {}

    R operator()(%(ParamList)s) {
      return (R)(fObject->*fFunction)(%(ArgList)s);
    }

    void call(const AL::Messaging::CallDefinition&, AL::Messaging::ResultDefinition& pResult) {
      AL_FUNCTOR_ASSUME_NBR_PARAMS(pParams, %(count)d);
      pResult.value((fObject->*fFunction)(%(CallParamList)s));
    };

  private:
    C            *fObject;
    FunctionType  fFunction;
  };

//FOOTER
}
#endif
