#from qibuild_code_generator import *
/*
* $autogen
*
*  Author(s):
*  - Cedric GESTES <gestes@aldebaran-robotics.com>
*  - Chris  Kilner <ckilner@aldebaran-robotics.com>
*  Copyright (C) 2010, 2011, 2012 Aldebaran Robotics
*/

#raw
#pragma once
#ifndef _QIMESSAGING_DETAILS_MAKEFUNCTOR_HPP_
#define _QIMESSAGING_DETAILS_MAKEFUNCTOR_HPP_

#include <qimessaging/metafunction.hpp>

#include <boost/function.hpp>
#include <boost/bind.hpp>
namespace qi
{
#end raw
#for $i in $count

  template <${generate_typename_list($i, end = True)}typename C, typename R>
  MetaFunction makeFunctor(C *obj, R (C::*f) ($generate_param_list($i))) {
    return makeMetaFunction<R (${generate_full_type_list($i, end = False)})>
      (boost::function<R (${generate_full_type_list($i, end = False)})>(
      boost::bind(f, obj ${generate_placeholder_list($i, end = False, begin=True)})));
 }

  template <${generate_typename_list($i, end = True)}typename R>
  MetaFunction makeFunctor(R (*f) ($generate_param_list($i))) {
    return makeMetaFunction<R (${generate_full_type_list($i, end = False)})>
      (boost::function<R (${generate_type_list($i, end = False)})>(f));
 }

#end for
#raw
  template<typename T>
  MetaFunction makeFunctor(boost::function<T> fun) {
    return makeMetaFunction(fun);
  }
}
#endif  // _QIMESSAGING_DETAILS_MAKEFUNCTOR_HPP_
#end raw
